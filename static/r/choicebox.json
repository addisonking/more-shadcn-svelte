{
	"$schema": "https://shadcn-svelte.com/schema/registry-item.json",
	"name": "choicebox",
	"title": "Choicebox",
	"type": "registry:ui",
	"description": "A visual radio group for selecting complex options.",
	"registryDependencies": [
		"label"
	],
	"files": [
		{
			"content": "<script lang=\"ts\">\r\n    import { cn } from \"$UTILS$\";\r\n    import { setChoiceboxContext } from \"./ctx\";\r\n    import type { Snippet } from \"svelte\";\r\n\r\n    let {\r\n        value = $bindable(),\r\n        class: className,\r\n        children,\r\n        name\r\n    }: {\r\n        value?: string;\r\n        class?: string;\r\n        children: Snippet;\r\n        name?: string;\r\n    } = $props();\r\n\r\n    setChoiceboxContext({\r\n        activeValue: () => value,\r\n        setActive: (v) => { value = v; }\r\n    });\r\n</script>\r\n\r\n<div\r\n        class={cn(\"flex flex-col gap-3\", className)}\r\n        role=\"radiogroup\"\r\n        aria-label={name}\r\n>\r\n    {@render children()}\r\n    {#if name}\r\n        <input type=\"hidden\" {name} {value} />\r\n    {/if}\r\n</div>",
			"type": "registry:ui",
			"target": "choicebox/choicebox.svelte"
		},
		{
			"content": "<script lang=\"ts\">\r\n    import { cn } from \"$UTILS$\";\r\n    import { getChoiceboxContext } from \"./ctx\";\r\n    import type { Snippet } from \"svelte\";\r\n\r\n    let {\r\n        value,\r\n        class: className,\r\n        children,\r\n        disabled = false\r\n    }: {\r\n        value: string;\r\n        class?: string;\r\n        children: Snippet;\r\n        disabled?: boolean;\r\n    } = $props();\r\n\r\n    const ctx = getChoiceboxContext();\r\n    let isSelected = $derived(ctx.activeValue() === value);\r\n\r\n    function handleClick() {\r\n        if (!disabled) {\r\n            ctx.setActive(value);\r\n        }\r\n    }\r\n\r\n    function handleKeyDown(e: KeyboardEvent) {\r\n        if (e.key === 'Enter' || e.key === ' ') {\r\n            e.preventDefault();\r\n            handleClick();\r\n        }\r\n    }\r\n</script>\r\n\r\n<div\r\n        role=\"radio\"\r\n        aria-checked={isSelected}\r\n        tabindex={disabled ? -1 : 0}\r\n        onclick={handleClick}\r\n        onkeydown={handleKeyDown}\r\n        data-state={isSelected ? \"checked\" : \"unchecked\"}\r\n        class={cn(\r\n        \"relative flex cursor-pointer items-start gap-4 rounded-lg border p-4 shadow-sm outline-none transition-all\",\r\n        // Default State\r\n        \"border-input bg-card hover:bg-accent/50 hover:text-accent-foreground\",\r\n        // Checked State (Matches image: Bright border, subtle bg change)\r\n        \"data-[state=checked]:border-primary data-[state=checked]:ring-1 data-[state=checked]:ring-primary\",\r\n        // Disabled\r\n        disabled && \"cursor-not-allowed opacity-50\",\r\n        className\r\n    )}\r\n>\r\n    {@render children()}\r\n</div>",
			"type": "registry:ui",
			"target": "choicebox/choicebox-item.svelte"
		},
		{
			"content": "<script lang=\"ts\">\r\n    import { cn } from \"$UTILS$\";\r\n\r\n    // We don't need logic here, CSS in the parent Item handles the checked state visualization\r\n    // via group-data attributes, or we can just style this element based on parent state.\r\n    // However, simplest is to let this be dumb and receive styles from parent context via CSS cascade\r\n    // or just render the circles.\r\n\r\n    let { class: className }: { class?: string } = $props();\r\n</script>\r\n\r\n<div class={cn(\"flex shrink-0 items-center justify-center\", className)}>\r\n    <!-- Outer Ring -->\r\n    <div\r\n            class=\"h-4 w-4 rounded-full border border-primary text-primary shadow-sm flex items-center justify-center ring-offset-background\"\r\n    >\r\n        <!-- Inner Dot (Only visible when parent is checked) -->\r\n        <div class=\"h-2 w-2 rounded-full bg-primary opacity-0 scale-0 transition-all duration-200 group-data-[state=checked]:opacity-100 group-data-[state=checked]:scale-100\" />\r\n    </div>\r\n</div>",
			"type": "registry:ui",
			"target": "choicebox/choicebox-indicator.svelte"
		},
		{
			"content": "<script lang=\"ts\">\r\n    import { cn } from \"$UTILS$\";\r\n    import type { Snippet } from \"svelte\";\r\n    let { class: className, children }: { class?: string, children: Snippet } = $props();\r\n</script>\r\n<h3 class={cn(\"font-semibold leading-none tracking-tight\", className)}>\r\n    {@render children()}\r\n</h3>",
			"type": "registry:ui",
			"target": "choicebox/choicebox-title.svelte"
		},
		{
			"content": "<script lang=\"ts\">\r\n    import { cn } from \"$UTILS$\";\r\n    import type { Snippet } from \"svelte\";\r\n    let { class: className, children }: { class?: string, children: Snippet } = $props();\r\n</script>\r\n<p class={cn(\"text-sm text-muted-foreground leading-normal\", className)}>\r\n    {@render children()}\r\n</p>",
			"type": "registry:ui",
			"target": "choicebox/choicebox-description.svelte"
		},
		{
			"content": "import { getContext, setContext } from \"svelte\";\r\n\r\nconst CHOICEBOX_KEY = Symbol(\"choicebox\");\r\n\r\ntype ChoiceboxContext = {\r\n    activeValue: () => string | undefined;\r\n    setActive: (v: string) => void;\r\n};\r\n\r\nexport function setChoiceboxContext(props: ChoiceboxContext) {\r\n    setContext(CHOICEBOX_KEY, props);\r\n}\r\n\r\nexport function getChoiceboxContext() {\r\n    return getContext<ChoiceboxContext>(CHOICEBOX_KEY);\r\n}",
			"type": "registry:ui",
			"target": "choicebox/ctx.ts"
		},
		{
			"content": "import Root from './choicebox.svelte';\r\nimport Item from './choicebox-item.svelte';\r\nimport Indicator from './choicebox-indicator.svelte';\r\nimport Title from './choicebox-title.svelte';\r\nimport Description from './choicebox-description.svelte';\r\n\r\nexport {\r\n    Root,\r\n    Item,\r\n    Indicator,\r\n    Title,\r\n    Description\r\n};",
			"type": "registry:ui",
			"target": "choicebox/index.ts"
		}
	]
}